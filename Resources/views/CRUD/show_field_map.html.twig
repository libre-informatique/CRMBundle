{#

This file is part of the Sonata package.

(c) Baptiste SIMON <beta@e-glop.net>
(c) Libre Informatique [http://www.libre-informatique.fr/]

For the full copyright and license information, please view the LICENSE
file that was distributed with this source code.

#}

{% extends 'SonataAdminBundle:CRUD:base_show_field.html.twig' %}

{% block field %}
    {% if object.lat is not null and object.lng is not null %}

        <link rel="stylesheet" href="https://openlayers.org/en/v4.6.4/css/ol.css" type="text/css">
        <style>
            .map {
                height: 500px;
                width: 100%;
            }
        </style>

        <div id="map" class="map"></div>

        <script src="https://openlayers.org/en/v4.6.4/build/ol.js" type="text/javascript"></script>
        <script type="text/javascript">
            var map = new ol.Map({
                target: 'map',
                layers: [
                    new ol.layer.Tile({
                        source: new ol.source.OSM()
                    })
                ],
                view: new ol.View({
                    center: ol.proj.fromLonLat([{{ object.lng }}, {{ object.lat }}]),
                    zoom: 14
                })
            });
        </script>
    {% endif %}
{% endblock %}
